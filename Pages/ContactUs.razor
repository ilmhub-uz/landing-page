@page "/contactus"
@using landing.Components.ContactDetails
@inject HttpClient Http
@inject IJSRuntime JS
<section >
	<div class="container">
		<div class="row g-4 g-lg-0 align-items-center">
			<div class="col-md-6 align-items-center text-center">
				<img src="assets/images/element/contact.png" class="h-600px" alt="">
				<SocialMediaButtons />
			</div>
			
			<div class="col-md-6">
				<!-- Title -->
				<h2 class="mt-4 mt-md-0">Keling tanishamiz</h2>
				<p>O'zingizni qiziqtirgan savol va takliflaringiz yuzasidan, yoki shunchaki bu forma ishlashini
					tekshirib ko'rish uchun bizga habar qoldiring ðŸ™ƒ</p>
				
				<form name="contact-form" id="contact-form" >
					<div class=" mb-4 bg-light-input" >
						<label for="name" class="form-label">Ismingiz *</label>
						<input type="text" name="Name" class="form-control form-control-lg is-invalid" id="name" oninput="FormInputValidation('name')">
					</div>
					<div class="mb-4 bg-light-input">
						<label for="phone" class="form-label">Telefon raqamingiz *</label>
						<p><input type="tel" name="Phone" class="form-control form-control-lg is-invalid" oninput="FormInputValidation('phone')" id="phone"></p>
					</div>
					<div class="mb-4 bg-light-input">
						<label for="message" class="form-label">Habar *</label>
						<textarea class="form-control is-invalid" name="Message" id="message" oninput="FormInputValidation('message')" rows="4" ></textarea>
					</div>
					<input hidden value="@(DateTime.Now.ToString("ddd, dd MMM, HH':'mm, yyyy "))" name="Date">
					<div class="d-grid">
						<button class="btn btn-lg btn-primary mb-0" disabled id="SendButton" type="submit" onclick="Send_Data('@connection.ContactConnection', 'contact-form')">Habar
							qoldirish</button>
					</div>
					<div class="mt-3" id="form_alerts"></div>
				</form>
			</div>
		</div>
	</div>
</section>
<ContactInfo />

@code{
	private Connection connection = new();
	protected override async Task OnInitializedAsync()
	{
		connection = await Http.GetFromJsonAsync<Connection>("credential.json");
		await JS.InvokeVoidAsync("SetCountryCode");
	}
}